<!DOCTYPE html>
<html>
<head>
    <title>AADC</title>
<link rel="icon" href="AADC.ico" type="image/x-icon">
    <style>
        /* Style for 'Directors Cut' */
        #directorsCut {
            font-style: italic;
            text-align: left;
            margin-top: 10px;
        }

        /* Centering buttons */
        .centered {
            text-align: center;
            position: fixed; /* Fix the position relative to the viewport */
            top: 80px; /* Adjust this value as needed to position from the top */
            width: 100%; /* Ensure the container spans the full width */
            z-index: 1000; /* Ensures the menu is above other content */
        }

        /* Button styling */
        button {
            margin: 5px;
            padding: 10px;
            opacity: 0; /* Initially hide buttons */
        }

        /* Animation keyframes */
        @keyframes slideInFromLeft {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideInFromTop {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes slideInFromRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Fade-in animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Style for the player, host, and both menu buttons */
        #playerMenu button, #hostMenu button, #bothMenu button {
            animation: fadeIn 0.4s ease-out; /* Fade-in effect */
            opacity: 0; /* Start invisible */
            position: fixed; /* Position relative to the viewport */
            bottom: 10px; /* Near the bottom of the screen */
        }

            /* Positioning for the first button (Reroll) in each menu */
            #playerMenu button:nth-child(1), #hostMenu button:nth-child(1), #bothMenu button:nth-child(1) {
                right: 30px; /* Near the bottom right */
            }

            /* Positioning for the second button (Back) in each menu */
            #playerMenu button:nth-child(2), #hostMenu button:nth-child(2), #bothMenu button:nth-child(2) {
                left: 30px; /* Near the bottom left */
            }

        /* Assign animations to buttons */
        #playerButton {
            animation: slideInFromLeft 1s ease forwards;
        }
        
        #hostButton {
            animation: slideInFromTop 1s ease forwards;
        }
        
        #bothButton {
            animation: slideInFromRight 1s ease forwards;
        }
        
        #imageContainer {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh; /* Full height of the viewport */
        }

        <div id="numberDisplay" style="text-align: center; font-size: 24px; margin-top: 20px;"></div>
        <div id="imageContainer"></div>
        
        #imageContainer img {
            max-width: 100%;
            max-height: 100%;
            /* Maintain aspect ratio */
            height: auto;
            width: auto;
        }
        
        #numberDisplay {
            position: fixed; /* Fix the position relative to the viewport */
            right: 30px; /* 30px from the right side */
            top: 50%; /* Vertically centered */
            transform: translateY(-50%); /* Adjust vertical alignment */
            font-size: 56px; /* Font size */
        }
        
        /* Hide elements by default */
        .hidden {
            display: none;
        }
        
    </style>
</head>
<body>

    <!-- Container for the dynamic text -->
    <div id="dynamicText"></div>
    <div id="directorsCut"></div>
    <div id="numberDisplay" style="text-align: center; font-size: 24px; margin-top: 20px;"></div>
    <div id="imageContainer"></div>

    <!-- Main Menu -->
    <div class="centered hidden" id="mainMenu">
        <button id="playerButton" onclick="showMenu('player')">Player</button>
        <button id="hostButton" onclick="showMenu('host')">Host</button>
        <button id="bothButton" onclick="showMenu('both')">Both</button>
    </div>

    <!-- Player Menu -->
    <div class="centered hidden" id="playerMenu">
    <button id="rerollPlayerButton">Reroll player</button>
        <button onclick="showMenu('main')">Back</button>
    </div>

    <!-- Host Menu -->
    <div class="centered hidden" id="hostMenu">
        <button>Reroll scene</button>
        <button onclick="showMenu('main')">Back</button>
    </div>

    <!-- Both Menu -->
    <div class="centered hidden" id="bothMenu">
        <button>Reroll both</button>
        <button onclick="showMenu('main')">Back</button>
    </div>

    <script>
        const mainText = "aaaaaaaaaaaaaaaaaaaand ACTION!";
        const subText = "Directors Cut";
        const mainContainer = document.getElementById('dynamicText');
        const subContainer = document.getElementById('directorsCut');
        const avoidList = [];
        const maxAvoidSize = 5;
        const totalImages = 20;
        const baseWidth = 3840; // Base width of the image
        const baseHeight = 1080; // Base height of the image
        const imageScale = 0.90; // Scale of the image (1 for 100%)
        let mainIndex = 0, subIndex = 0;

        function typeMainLetter() {
            if (mainIndex < mainText.length) {
                let span = document.createElement('span');
                span.innerText = mainText[mainIndex];
                let fontSize = mainIndex + 1;
                if (mainIndex >= 22) fontSize = 25;
                span.style.fontSize = fontSize + 'px';
                mainContainer.appendChild(span);
                mainIndex++;
                setTimeout(typeMainLetter, 90);
            } else {
                typeSubLetter();
            }
        }

        function revealMenu() {
            document.getElementById('mainMenu').classList.remove('hidden');
            document.getElementById('playerButton').style.animation = 'slideInFromLeft 1s ease forwards';
            document.getElementById('hostButton').style.animation = 'slideInFromTop 1s ease forwards';
            document.getElementById('bothButton').style.animation = 'slideInFromRight 1s ease forwards';
        }

        function typeSubLetter() {
            if (subIndex < subText.length) {
                let span = document.createElement('span');
                span.innerText = subText[subIndex];
                span.style.fontSize = '20px';
                subContainer.appendChild(span);
                subIndex++;
                setTimeout(typeSubLetter, 75);
            } else {
                setTimeout(revealMenu, 500); // Small delay before revealing the menu
            }
        }
        
        function getRandomImageId() {
            let randomId = Math.floor(Math.random() * totalImages) + 1;
            while (avoidList.includes(randomId)) {
                randomId = Math.floor(Math.random() * totalImages) + 1;
            }
            return randomId;
        }

        function updateAvoidList(newId) {
            avoidList.push(newId);
            if (avoidList.length > maxAvoidSize) {
                avoidList.shift(); // Remove the oldest entry
            }
        }

        function displayImage(imageId) {
            const imagePath = `images/${imageId}.png`;
            const imgElement = document.createElement('img');
            imgElement.src = imagePath;
            imgElement.alt = `Image ${imageId}`;
            imgElement.style.width = `800px`;
            imgElement.style.height = `450px`;
        
            const imageContainer = document.getElementById('imageContainer');
            imageContainer.innerHTML = '';
            imageContainer.appendChild(imgElement);
        }

        function rerollPlayer() {
            const randomNumber = Math.floor(Math.random() * 4) + 1; // Generate a number from 1 to 4
            document.getElementById('numberDisplay').innerText = randomNumber; // Display only the number
        
            const imageId = getRandomImageId();
            displayImage(imageId);
            updateAvoidList(imageId);
        }
        
        function showMenu(menuType) {
            document.getElementById('mainMenu').classList.add('hidden');
            document.getElementById('playerMenu').classList.add('hidden');
            document.getElementById('hostMenu').classList.add('hidden');
            document.getElementById('bothMenu').classList.add('hidden');

            if (menuType === 'player') {
                const playerMenu = document.getElementById('playerMenu');
                playerMenu.classList.remove('hidden');
                fadeInButtons(playerMenu);
                            const rerollButton = document.getElementById('rerollPlayerButton');
            rerollButton.onclick = rerollPlayer; // Attach reroll function to the button
            } else if (menuType === 'host') {
                const hostMenu = document.getElementById('hostMenu');
                hostMenu.classList.remove('hidden');
                fadeInButtons(hostMenu);
            } else if (menuType === 'both') {
                const bothMenu = document.getElementById('bothMenu');
                bothMenu.classList.remove('hidden');
                fadeInButtons(bothMenu);
            } else {
                document.getElementById('mainMenu').classList.remove('hidden');
            }

            if (menuType === 'main') {
                document.getElementById('imageContainer').innerHTML = ''; // Clear the image
                document.getElementById('numberDisplay').innerText = ''; // Clear the number
            }
        }

        function fadeInButtons(menu) {
            Array.from(menu.getElementsByTagName('button')).forEach(button => {
                button.style.opacity = 1; // Make the buttons visible
            });
        }
        typeMainLetter();
    </script>

</body>
</html>
